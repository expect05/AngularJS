<h1>Form Validation</h1>
<fieldset>
    <legend class="sign_up">Registration</legend>
    <form name='regForm' novalidate>
        <table class="table">
            <tr>
                <td>First name:</td>
                <td><input class="sign_up" type="text" name="firstname" placeholder="Write in your first name" ng-model="regCtrl.user.firstname" required>
                    <span ng-if="regForm.firstname.$error.required && regForm.firstname.$touched">
              Firstname must be typed in
            </span>
                </td>
            </tr>
            <tr>
                <td>Last Name:</td>
                <td><input class="sign_up" type="text" name="lastname" placeholder="Write in your last name" ng-model="regCtrl.user.lastname" required>
                    <span ng-if="regForm.lastname.$error.required && regForm.lastname.$touched">
            Lastname must be typed in
            </span>
                </td>
            </tr>
            <tr>
                <td>Email:</td>
                <td><input class="sign_up" type="email" name="email" placeholder="Email" ng-model="regCtrl.user.email" required>
                    <span ng-if="regForm.email.$invalid && regForm.email.$touched">
                    Must be a valid email address: handle@domain format
                    </span>
                </td>
            </tr>
            <tr>
                <td>Phone number:</td>
                <td><input class="sign_up" type="text" name="phone" placeholder="Phone ###-###-####" ng-model="regCtrl.user.phone" pattern="(\d{3})-(\d{3})-(\d{4})">
                    <span ng-if="regForm.phone.$invalid && regForm.phone.$touched">
                    Phone must be in the format ###-###-####.
                   </span>
                </td>
            </tr>
            <tr>
                <td>Favorite Dish:</td>
                <td><input class="sign_up" type="text" name="favoriteDish" placeholder="Favorite Dish (e.g. A1, A2)" ng-model="regCtrl.user.favoriteDish" pattern="[A-Z][0-9]{1,2}">
                    <span ng-if="regForm.favoriteDish.$invalid && regForm.favoriteDish.$touched">
                  Favorite dish has to be typed in as short name e.g. A1, A2 and may not have more than three letters/digits.
                  </span>
                    <span ng-if="regCtrl.errorFromServer">
                    No such menu number exists.
                  </span>
                </td>
            </tr>
        </table>
        <button class="sign_up" ng-disabled="regForm.$invalid" ng-click="regCtrl.submit(regCtrl.user.favoriteDish)">Submit</button>

        <div style="margin-bottom: 10px;">
            Form valid? {{ regForm.$valid }}
        </div>
    </form>
</fieldset>
<legend ng-if="regCtrl.completed" class="sign_up"> Information </legend>
<table ng-if="regCtrl.completed" class="table">
    <tr>
        <td colspan=2>You are signed up as:</td>
    </tr>
    <tr>
        <td>First name:</td>
        <td>{{regCtrl.user.firstname}}</td>
    </tr>
    <tr>
        <td>Last name:</td>
        <td>{{regCtrl.user.lastname}}</td>
    </tr>
    <tr>
        <td>Email:</td>
        <td>{{regCtrl.user.email}}</td>
    </tr>
    <tr ng-if="regCtrl.user.phone">
        <td>Phone:</td>
        <td>{{regCtrl.user.phone}}</td>
    </tr>
    <tr>
        <td>Fav. Dish:</td>
        <td>{{regCtrl.favDish.name}}</td>
    </tr>
</table>